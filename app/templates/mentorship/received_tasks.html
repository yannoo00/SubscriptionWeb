{% extends 'base.html' %}

{% block content %}
<h1>받은 과제 목록</h1>
<ul>
  {% for task in tasks %}
    <li>
      <h3>{{ task.title }}</h3>
      <p>{{ task.description }}</p>
      <p>마감일: {{ task.deadline.strftime('%Y-%m-%d') }}</p>
      
      {% if task.file %}
        <p><a href="{{ url_for('mentorship.download_file', filename=task.file) }}">과제 파일 다운로드</a></p>
      {% endif %}
      
      {% if not task.completed %}
        <form action="{{ url_for('mentorship.submit_task', task_id=task.id) }}" method="post" enctype="multipart/form-data">
          {{ form.hidden_tag() }}
          <div class="form-group">
            <label for="file">과제 파일 제출:</label>
            <input type="file" class="form-control-file" id="file" name="file" required>
          </div>
          <button type="submit" class="btn btn-primary">제출</button>
        </form>
      {% else %}
        <p>완료됨</p>
      {% endif %}
      
    </li>
  {% endfor %}
</ul>
{% endblock %}